<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PENGISIAN DATA </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Work+Sans:wght@300;400;600&display=swap"
        rel="stylesheet">

    <!-- cdn icon bostrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
   

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
    <div class="col-md-6">
<br>
        
        <div class="fw-bold">PENGISIAN DATA BINTARA SBP POLAIR DAN BRIMOB</div> 
        <br>
        <div class="alert alert-danger alert-dismissible fade show " role="alert">
          <strong>HARAP ISI DATA DENGAN BENAR  <br>
        
          </strong>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <form name="my-form">

            <div class="mb-3">
                <label class="form-label">NAMA LENGKAP</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="nama" name="nama" required placeholder="Nama Lengkap" aria-label="NAMA LENGKAP ANDA">
                </div>
            </div>
        
            <div class="mb-3">
                <label class="form-label">NRP</label>
                <div class="input-group mb-3">
                    <input type="number" class="form-control" id="nrp" name="nrp" required placeholder="NRP ANDA" aria-label="NRP LENGKAP ANDA">
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">JABATAN LAMA</label>
                <div class="input-group mb-3">
                    <input type="text" class="form-control" id="jabatan_lama" name="jabatan_lama" required placeholder="JABATAN LAMA ANDA" aria-label="JABATAN LAMA ANDA">
                </div>
            </div>
            
            <div class="col-12">
                <div class="mb-3">
                    <label for="asal_satuan" class="form-label">ASAL KESATUAN (kesatuan lama)</label>
                    <select name="asal_satuan" id="asal_satuan" class="form-select"  required>
                        <option selected>Pilih Salah Satu</option>
                        <option value="DIT POLAIRUD POLDA SULSEL">DIT POLAIRUD POLDA SULSEL</option>
                        <option value="SAT BRIMOB POLDA SULSEL">SAT BRIMOB POLDA SULSEL</option>
                        <option value="YON A SAT BRIMOB POLDA SULSEL">YON A SAT BRIMOB POLDA SULSEL</option>
                        <option value="YON B SAT BRIMOB POLDA SULSEL">YON B SAT BRIMOB POLDA SULSEL</option>
                        <option value="YON C SAT BRIMOB POLDA SULSEL">YON C SAT BRIMOB POLDA SULSEL</option>
                        <option value="YON D SAT BRIMOB POLDA SULSEL">YON D SAT BRIMOB POLDA SULSEL</option>
                        <option value="POLRES WAJO">POLRES WAJO</option>
                        <option value="POLRES TANA TORAJA">POLRES TANA TORAJA</option>
                        <option value="POLRES TAKALAR">POLRES TAKALAR</option>
                        <option value="POLRESTABES MAKASSAR">POLRESTABES MAKASSAR</option>
                        <option value="POLRES SOPPENG">POLRES SOPPENG</option>
                        <option value="POLRES SINJAI">POLRES SINJAI</option>
                        <option value="POLRES SIDRAP">POLRES SIDRAP</option>
                        <option value="POLRES PINRANG">POLRES PINRANG</option>
                        <option value="POLRES PELABUHAN MAKASSAR">POLRES PELABUHAN MAKASSAR</option>
                        <option value="POLRES PAREPARE">POLRES PAREPARE</option>
                        <option value="POLRES PANGKEP">POLRES PANGKEP</option>
                        <option value="POLRES PALOPO">POLRES PALOPO</option>
                        <option value="POLRES MAROS">POLRES MAROS</option>
                        <option value="POLRES LUWU UTARA">POLRES LUWU UTARA</option>
                        <option value="POLRES LUWU TIMUR">POLRES LUWU TIMUR</option>
                        <option value="POLRES LUWU">POLRES LUWU</option>
                        <option value="POLRES KEP SELAYAR">POLRES KEP SELAYAR</option>
                        <option value="POLRES JENEPONTO">POLRES JENEPONTO</option>
                        <option value="POLRES GOWA">POLRES GOWA</option>
                        <option value="POLRES ENREKANG">POLRES ENREKANG</option>
                        <option value="POLRES BULUKUMBA">POLRES BULUKUMBA</option>
                        <option value="POLRES BONE">POLRES BONE</option>
                        <option value="POLRES BARRU">POLRES BARRU</option>
                        <option value="POLRES BANTAENG">POLRES BANTAENG</option>
                        <option value="POLRES TORAJA UTARA">POLRES TORAJA UTARA</option>
                        <option value="DIT RESKRIMUM POLDA SULSEL">DIT RESKRIMUM POLDA SULSEL</option>
                        <option value="BID DOKKES POLDA SULSEL">BID DOKKES POLDA SULSEL</option>
                        <option value="BID HUMAS POLDA SULSEL">BID HUMAS POLDA SULSEL</option>
                        <option value="BID KEU POLDA SULSEL">BID KEU POLDA SULSEL</option>
                        <option value="BID PROPAM POLDA SULSEL">BID PROPAM POLDA SULSEL</option>
                        <option value="BID TIK POLDA SULSEL">BID TIK POLDA SULSEL</option>
                        <option value="DIT BINMAS POLDA SULSEL">DIT BINMAS POLDA SULSEL</option>
                        <option value="DIT INTELKAM POLDA SULSEL">DIT INTELKAM POLDA SULSEL</option>
                        <option value="DIT LANTAS POLDA SULSEL">DIT LANTAS POLDA SULSEL</option>
                        <option value="DIT PAMOBVIT POLDA SULSEL">DIT PAMOBVIT POLDA SULSEL</option>
                        
                        <option value="DIT RESKRIMSUS POLDA SULSEL">DIT RESKRIMSUS POLDA SULSEL</option>
                        <option value="YANMA POLDA SULSEL">YANMA POLDA SULSEL</option>
                        <option value="DIT RESNARKOBA POLDA SULSEL">DIT RESNARKOBA POLDA SULSEL</option>
                        <option value="DIT SAMAPTA POLDA SULSEL">DIT SAMAPTA POLDA SULSEL</option>
                        <option value="DIT TAHTI POLDA SULSEL">DIT TAHTI POLDA SULSEL</option>
                        <option value="ITWASDA POLDA SULSEL">ITWASDA POLDA SULSEL</option>
                        <option value="BIRO LOGISTIK POLDA SULSEL">BIRO LOGISTIK POLDA SULSEL</option>
                        <option value="BIRO OPS POLDA SULSEL">BIRO OPS POLDA SULSEL</option>
                        <option value="BIRO RENA POLDA SULSEL">BIRO RENA POLDA SULSEL</option>
                        <option value="BIRO SDM POLDA SULSEL">BIRO SDM POLDA SULSEL</option>
                        <option value="SAT BRIMOB POLDA SULSEL">SAT BRIMOB POLDA SULSEL</option>
                        <option value="SETUM POLDA SULSEL">SETUM POLDA SULSEL</option>
                        <option value="SPN POLDA SULSEL">SPN POLDA SULSEL</option>
                        <option value="SPKT POLDA SULSEL">SPKT POLDA SULSEL</option>
                        <option value="SPRIPIM POLDA SULSEL">SPRIPIM POLDA SULSEL</option>
                        <option value="INSTANSI LUAR">INSTANSI LUAR</option>
                        <option value="RUMKIT BHAYANGKARA TK. II MAKASSAR">RUMKIT BHAYANGKARA TK. II MAKASSAR</option>
                        <option value="BID KUM POLDA SULSEL">BID KUM POLDA SULSEL</option>
                        <option value="BID LABFOR POLDA SULSEL">BID LABFOR POLDA SULSEL</option>
                    </select>
                </div>
            </div>
            


            <div class="mb-3">
                <label class="form-label"> PENDIDIKAN KEPOLISIAN</label>
                <div class="input-group mb-3">
                    <select name="jenisdikpolri" id="jenisdikpolri" class="form-select"  required>
                        <option selected>Pilih Salah Satu</option>
                        <!-- <option value="kombespol">Kombes Pol</option> -->
                        <option value="Bintara Brimob">Bintara Brimob</option>
                    
                        <option value="Bintara Polairud">Bintara Polairud</option>
                    </select>
                </div>
            </div>

            

<!-- alert -->
<div class="alert alert-success alert-dismissible fade show d-none my-alert" role="alert">
    <strong>Terima Kasih !!</strong> Jawaban anda telah kami terima
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<!-- kirim -->
            <div class="col-12" style="margin-top: 30px;">
               <button type="submit" class="btn btn-primary btn-kirim">KIRIM</button>


               <button class="btn btn-primary btn-loading d-none" type="button" disabled>
                <span class="spinner-border spinner-border-sm" aria-hidden="true"></span>
                <span role="status">Loading...</span>
              </button>
            </div>

        </form>
        
        <small class="block">Dev By Brigpol Romi Sunggara  <a href="https://instagram.com/romisunggara?igshid=OGQ5ZDc2ODk2ZA==">@romisunggara</a>
    </small>

    <div class="container">
        <div class="row">
        </div>
    </div>

    
    <!-- <small class="block">
        &copy; 2023 BIRO SDM POLDA SULSEL
        </small> -->

</div>


<!-- <div style="padding:20px">
<iframe weidth="1000" height="600" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQzTI49L667Kajyy1tyu78d3J6kb0jlyMqocMF8a-zzxNPoUg8hMJpmMeUy-tTaW-hV-3xA4GSVrqyU/pubhtml?gid=1328465709&single=true"></iframe>
</div>
</div> -->


</body>
<script>
    // url script app google sheet
    // const scriptURL = 'https://script.google.com/macros/s/AKfycbxEqmg9ZIx0zKFhOvx9iCdvrDf2cL_oYMZVddmxcOXFKxh-uizdjDnU0IX1MNMs89o-/exec';
    // nama form
    const form = document.forms['my-form'];
    const btnKirim = document.querySelector('.btn-kirim');
    const btnLoading = document.querySelector('.btn-loading');
    const myAlert = document.querySelector('.my-alert');
  
    //Validasi file
    const validasiFile = (data, type = ['pdf'], size = 500) => {
      const tipe = new RegExp(type.join('|'), "i")
      if (!tipe.test(data.files[0].type)) {
        alert("Mohon upload file pdf!");
        data.value = "";
      } else if (data.files[0].size > size * 1024) {
        alert("Ukuran maksimal file 500kb!");
        data.value = "";
      }
    }
  
  
    form.addEventListener('submit', async e => {
      e.preventDefault();
      // ketika tombol submit di klik
      // tampilkan tombol loading, hilangkan tombol kirim
      btnLoading.classList.toggle('d-none');
      btnKirim.classList.toggle('d-none');
  

    //   inputan file
    // inputan harus dikasi nama awalan file 
      var formData = new FormData(form);
      let data = Object.fromEntries(formData);
      let files = Object.keys(data)?.filter(x => {
        return /^file/i.test(x)
      })
      if (files) {
        for (const x of files) {
          formData.append(x, await convertBase64(data[x]));
        }
      }



      fetch(scriptURL, {
        method: 'POST', body: formData
      })
      .then(response => {
          // tampilkan tombol kirim, hilangkan tombol loading
          btnLoading.classList.toggle('d-none');
          btnKirim.classList.toggle('d-none');
          // tampilkan alert
          myAlert.classList.toggle('d-none');
          // reset form
          form.reset();
          console.log('Success!', response);
  
      })
      .catch(error => console.error('Error!', error.message))
    })
  
    //untuk type file
    const convertBase64 = (file) => {
      return new Promise((resolve,
        reject) => {
        const fr = new FileReader();
        fr.readAsDataURL(file);
        fr.onload = () => {
          resolve(fr.result)};
        fr.onerror = reject
      });
    };
  </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>
